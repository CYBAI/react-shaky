var ReactShaky=function(n){function t(g){if(e[g])return e[g].exports;var I=e[g]={exports:{},id:g,loaded:!1};return n[g].call(I.exports,I,I.exports,t),I.loaded=!0,I.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){n.exports=e(1)},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Line = __webpack_require__(3);\n\nvar _Line2 = _interopRequireDefault(_Line);\n\nvar _ShakyCanvas = __webpack_require__(8);\n\nvar _ShakyCanvas2 = _interopRequireDefault(_ShakyCanvas);\n\nvar _utils = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // eslint-disable-line no-unused-vars\n\nvar ShakyCanvasComponent = function (_Component) {\n  _inherits(ShakyCanvasComponent, _Component);\n\n  function ShakyCanvasComponent() {\n    _classCallCheck(this, ShakyCanvasComponent);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ShakyCanvasComponent).call(this));\n\n    _this.shakyId = Date.now();\n    _this.handleEscape = _this.handleEscape.bind(_this);\n    _this.handleDoubleClick = _this.handleDoubleClick.bind(_this);\n    _this.handleUpdateDiagram = _this.handleUpdateDiagram.bind(_this);\n    _this.state = {\n      editing: false,\n      shakyDiagram: '',\n      canvasWidth: 0,\n      canvasHeight: 0\n    };\n    return _this;\n  }\n\n  _createClass(ShakyCanvasComponent, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.setState({ shakyDiagram: this.props.children });\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.drawDiagram();\n    }\n  }, {\n    key: 'handleDoubleClick',\n    value: function handleDoubleClick() {\n      this.updateEditState();\n      this.focusTextarea();\n    }\n  }, {\n    key: 'focusTextarea',\n    value: function focusTextarea() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        return _this2.reactShakyTextarea.focus();\n      }, 0);\n    }\n  }, {\n    key: 'handleUpdateDiagram',\n    value: function handleUpdateDiagram(e) {\n      if (e.type === 'blur') {\n        this.updateEditState();\n      }\n\n      this.updateShakyDiagram(e.target.value);\n      this.drawDiagram();\n    }\n  }, {\n    key: 'handleEscape',\n    value: function handleEscape(e) {\n      if (e.keyCode === 27) {\n        this.reactShakyTextarea.blur();\n      }\n    }\n  }, {\n    key: 'updateEditState',\n    value: function updateEditState() {\n      this.setState({ editing: !this.state.editing });\n    }\n  }, {\n    key: 'updateShakyDiagram',\n    value: function updateShakyDiagram(shakyDiagram) {\n      this.setState({ shakyDiagram: shakyDiagram });\n    }\n\n    // Draw a diagram from the ascii art contained in the #textarea.\n\n  }, {\n    key: 'drawDiagram',\n    value: function drawDiagram() {\n      var figures = (0, _utils.parseASCIIArt)(this.state.shakyDiagram);\n\n      // Compute required canvas size.\n      var width = 0;\n      var height = 0;\n      var figuresLen = figures.length;\n      for (var i = 0; i < figuresLen; i++) {\n        var figure = figures[i];\n        if (figure instanceof _Line2.default) {\n          width = Math.max(width, (0, _utils.X)(figure.x1 + 1));\n          height = Math.max(height, (0, _utils.Y)(figure.y1 + 1));\n        }\n      }\n\n      var canvas = document.getElementById('shaky-canvas-' + this.shakyId);\n\n      canvas.width = +width;\n      canvas.height = +height;\n\n      this.setState({ canvasWidth: canvas.width });\n      this.setState({ canvasHeight: canvas.height });\n\n      var shakyCtx = new _ShakyCanvas2.default(canvas);\n      for (var _i = 0; _i < figuresLen; _i++) {\n        figures[_i].draw(shakyCtx);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      return _react2.default.createElement(\n        'div',\n        { id: 'react-shaky-wrapper' },\n        _react2.default.createElement('textarea', {\n          id: 'shaky-textarea-' + this.shakyId,\n          value: this.state.shakyDiagram,\n          onChange: this.handleUpdateDiagram,\n          onKeyUp: this.handleEscape,\n          onBlur: this.handleUpdateDiagram,\n          ref: function ref(el) {\n            return _this3.reactShakyTextarea = el;\n          },\n          style: {\n            display: this.state.editing ? 'block' : 'none',\n            width: this.state.canvasWidth,\n            height: this.state.canvasHeight\n          }\n        }),\n        _react2.default.createElement('canvas', {\n          id: 'shaky-canvas-' + this.shakyId,\n          style: {\n            display: this.state.editing ? 'none' : 'block'\n          },\n          onDoubleClick: this.handleDoubleClick\n        })\n      );\n    }\n  }]);\n\n  return ShakyCanvasComponent;\n}(_react.Component);\n\nShakyCanvasComponent.propTypes = {\n  children: _react.PropTypes.node.isRequired,\n  editable: _react.PropTypes.bool\n};\n\nexports.default = ShakyCanvasComponent;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvaW5kZXguanM/MWZkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgUHJvcFR5cGVzLCBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuaW1wb3J0IExpbmUgZnJvbSAnLi9TaGFreUNhbnZhcy9MaW5lJztcbmltcG9ydCBTaGFreUNhbnZhcyBmcm9tICcuL1NoYWt5Q2FudmFzL1NoYWt5Q2FudmFzJztcbmltcG9ydCB7XG4gIFgsIFksXG4gIHBhcnNlQVNDSUlBcnQsXG59IGZyb20gJy4vU2hha3lDYW52YXMvdXRpbHMnO1xuXG5jbGFzcyBTaGFreUNhbnZhc0NvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zaGFreUlkID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLmhhbmRsZUVzY2FwZSA9IHRoaXMuaGFuZGxlRXNjYXBlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVEb3VibGVDbGljayA9IHRoaXMuaGFuZGxlRG91YmxlQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZVVwZGF0ZURpYWdyYW0gPSB0aGlzLmhhbmRsZVVwZGF0ZURpYWdyYW0uYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZWRpdGluZzogZmFsc2UsXG4gICAgICBzaGFreURpYWdyYW06ICcnLFxuICAgICAgY2FudmFzV2lkdGg6IDAsXG4gICAgICBjYW52YXNIZWlnaHQ6IDAsXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgc2hha3lEaWFncmFtOiB0aGlzLnByb3BzLmNoaWxkcmVuIH0pO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5kcmF3RGlhZ3JhbSgpO1xuICB9XG5cbiAgaGFuZGxlRG91YmxlQ2xpY2soKSB7XG4gICAgdGhpcy51cGRhdGVFZGl0U3RhdGUoKTtcbiAgICB0aGlzLmZvY3VzVGV4dGFyZWEoKTtcbiAgfVxuXG4gIGZvY3VzVGV4dGFyZWEoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnJlYWN0U2hha3lUZXh0YXJlYS5mb2N1cygpLCAwKTtcbiAgfVxuXG4gIGhhbmRsZVVwZGF0ZURpYWdyYW0oZSkge1xuICAgIGlmIChlLnR5cGUgPT09ICdibHVyJykge1xuICAgICAgdGhpcy51cGRhdGVFZGl0U3RhdGUoKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVNoYWt5RGlhZ3JhbShlLnRhcmdldC52YWx1ZSk7XG4gICAgdGhpcy5kcmF3RGlhZ3JhbSgpO1xuICB9XG5cbiAgaGFuZGxlRXNjYXBlKGUpIHtcbiAgICBpZiAoZS5rZXlDb2RlID09PSAyNykge1xuICAgICAgdGhpcy5yZWFjdFNoYWt5VGV4dGFyZWEuYmx1cigpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUVkaXRTdGF0ZSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgZWRpdGluZzogIXRoaXMuc3RhdGUuZWRpdGluZyB9KTtcbiAgfVxuXG4gIHVwZGF0ZVNoYWt5RGlhZ3JhbShzaGFreURpYWdyYW0pIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgc2hha3lEaWFncmFtIH0pO1xuICB9XG5cbiAgLy8gRHJhdyBhIGRpYWdyYW0gZnJvbSB0aGUgYXNjaWkgYXJ0IGNvbnRhaW5lZCBpbiB0aGUgI3RleHRhcmVhLlxuICBkcmF3RGlhZ3JhbSgpIHtcbiAgICBjb25zdCBmaWd1cmVzID0gcGFyc2VBU0NJSUFydCh0aGlzLnN0YXRlLnNoYWt5RGlhZ3JhbSk7XG5cbiAgICAvLyBDb21wdXRlIHJlcXVpcmVkIGNhbnZhcyBzaXplLlxuICAgIGxldCB3aWR0aCA9IDA7XG4gICAgbGV0IGhlaWdodCA9IDA7XG4gICAgY29uc3QgZmlndXJlc0xlbiA9IGZpZ3VyZXMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlndXJlc0xlbjsgaSsrKSB7XG4gICAgICBjb25zdCBmaWd1cmUgPSBmaWd1cmVzW2ldO1xuICAgICAgaWYgKGZpZ3VyZSBpbnN0YW5jZW9mIExpbmUpIHtcbiAgICAgICAgd2lkdGggPSBNYXRoLm1heCh3aWR0aCwgWChmaWd1cmUueDEgKyAxKSk7XG4gICAgICAgIGhlaWdodCA9IE1hdGgubWF4KGhlaWdodCwgWShmaWd1cmUueTEgKyAxKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHNoYWt5LWNhbnZhcy0ke3RoaXMuc2hha3lJZH1gKTtcblxuICAgIGNhbnZhcy53aWR0aCA9ICt3aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gK2hlaWdodDtcblxuICAgIHRoaXMuc2V0U3RhdGUoeyBjYW52YXNXaWR0aDogY2FudmFzLndpZHRoIH0pO1xuICAgIHRoaXMuc2V0U3RhdGUoeyBjYW52YXNIZWlnaHQ6IGNhbnZhcy5oZWlnaHQgfSk7XG5cbiAgICBjb25zdCBzaGFreUN0eCA9IG5ldyBTaGFreUNhbnZhcyhjYW52YXMpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlndXJlc0xlbjsgaSsrKSB7XG4gICAgICBmaWd1cmVzW2ldLmRyYXcoc2hha3lDdHgpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBpZD1cInJlYWN0LXNoYWt5LXdyYXBwZXJcIj5cbiAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgaWQ9e2BzaGFreS10ZXh0YXJlYS0ke3RoaXMuc2hha3lJZH1gfVxuICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnNoYWt5RGlhZ3JhbX1cbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVVcGRhdGVEaWFncmFtfVxuICAgICAgICAgIG9uS2V5VXA9e3RoaXMuaGFuZGxlRXNjYXBlfVxuICAgICAgICAgIG9uQmx1cj17dGhpcy5oYW5kbGVVcGRhdGVEaWFncmFtfVxuICAgICAgICAgIHJlZj17KGVsKSA9PiAodGhpcy5yZWFjdFNoYWt5VGV4dGFyZWEgPSBlbCl9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMuc3RhdGUuZWRpdGluZyA/ICdibG9jaycgOiAnbm9uZScsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5zdGF0ZS5jYW52YXNXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5zdGF0ZS5jYW52YXNIZWlnaHQsXG4gICAgICAgICAgfX1cbiAgICAgICAgPjwvdGV4dGFyZWE+XG4gICAgICAgIDxjYW52YXNcbiAgICAgICAgICBpZD17YHNoYWt5LWNhbnZhcy0ke3RoaXMuc2hha3lJZH1gfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OiB0aGlzLnN0YXRlLmVkaXRpbmcgPyAnbm9uZScgOiAnYmxvY2snLFxuICAgICAgICAgIH19XG4gICAgICAgICAgb25Eb3VibGVDbGljaz17dGhpcy5oYW5kbGVEb3VibGVDbGlja31cbiAgICAgICAgPjwvY2FudmFzPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5TaGFreUNhbnZhc0NvbXBvbmVudC5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuICBlZGl0YWJsZTogUHJvcFR5cGVzLmJvb2wsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBTaGFreUNhbnZhc0NvbXBvbmVudDtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pbmRleC5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFJQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTkE7QUFZQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFQQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUxBO0FBZEE7QUF1QkE7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTsiLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval("module.exports = undefined;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCB7XCJhbWRcIjpcInJlYWN0XCIsXCJjb21tb25qc1wiOlwicmVhY3RcIixcImNvbW1vbmpzMlwiOlwicmVhY3RcIixcInJvb3RcIjpcIlJlYWN0XCJ9P2ViYTAiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB1bmRlZmluZWQ7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCB7XCJhbWRcIjpcInJlYWN0XCIsXCJjb21tb25qc1wiOlwicmVhY3RcIixcImNvbW1vbmpzMlwiOlwicmVhY3RcIixcInJvb3RcIjpcIlJlYWN0XCJ9XG4gKiogbW9kdWxlIGlkID0gMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(4);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Line from (x0, y0) to (x1, y1) with the given color and decolartions\n// at the start and end.\n\nvar Line = function () {\n  function Line(x0, y0, start, x1, y1, end, color) {\n    _classCallCheck(this, Line);\n\n    this.x0 = x0;\n    this.y0 = y0;\n    this.start = start;\n    this.x1 = x1;\n    this.y1 = y1;\n    this.end = end;\n    this.color = color;\n  }\n\n  _createClass(Line, [{\n    key: 'draw',\n    value: function draw(ctx) {\n      ctx.strokeStyle = this.color;\n      ctx.fillStyle = this.color;\n      ctx.beginPath();\n      ctx.moveTo((0, _utils.X)(this.x0), (0, _utils.Y)(this.y0));\n      ctx.lineTo((0, _utils.X)(this.x1), (0, _utils.Y)(this.y1));\n      ctx.stroke();\n      this._ending(ctx, this.start, (0, _utils.X)(this.x1), (0, _utils.Y)(this.y1), (0, _utils.X)(this.x0), (0, _utils.Y)(this.y0));\n      this._ending(ctx, this.end, (0, _utils.X)(this.x0), (0, _utils.Y)(this.y0), (0, _utils.X)(this.x1), (0, _utils.Y)(this.y1));\n    }\n  }, {\n    key: '_ending',\n    value: function _ending(canvas, type, x0, y0, x1, y1) {\n      switch (type) {\n        case 'circle':\n          canvas.bulb(x1, y1);\n          break;\n        case 'arrow':\n          canvas.arrowhead(x0, y0, x1, y1);\n          break;\n        default:\n      }\n    }\n  }]);\n\n  return Line;\n}();\n\nexports.default = Line;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvU2hha3lDYW52YXMvTGluZS5qcz85OGI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFgsIFkgfSBmcm9tICcuL3V0aWxzJztcblxuLy8gTGluZSBmcm9tICh4MCwgeTApIHRvICh4MSwgeTEpIHdpdGggdGhlIGdpdmVuIGNvbG9yIGFuZCBkZWNvbGFydGlvbnNcbi8vIGF0IHRoZSBzdGFydCBhbmQgZW5kLlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGluZSB7XG4gIGNvbnN0cnVjdG9yKHgwLCB5MCwgc3RhcnQsIHgxLCB5MSwgZW5kLCBjb2xvcikge1xuICAgIHRoaXMueDAgPSB4MDtcbiAgICB0aGlzLnkwID0geTA7XG4gICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgIHRoaXMueDEgPSB4MTtcbiAgICB0aGlzLnkxID0geTE7XG4gICAgdGhpcy5lbmQgPSBlbmQ7XG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICB9XG5cbiAgZHJhdyhjdHgpIHtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKFgodGhpcy54MCksIFkodGhpcy55MCkpO1xuICAgIGN0eC5saW5lVG8oWCh0aGlzLngxKSwgWSh0aGlzLnkxKSk7XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIHRoaXMuX2VuZGluZyhjdHgsIHRoaXMuc3RhcnQsIFgodGhpcy54MSksIFkodGhpcy55MSksIFgodGhpcy54MCksIFkodGhpcy55MCkpO1xuICAgIHRoaXMuX2VuZGluZyhjdHgsIHRoaXMuZW5kLCBYKHRoaXMueDApLCBZKHRoaXMueTApLCBYKHRoaXMueDEpLCBZKHRoaXMueTEpKTtcbiAgfVxuXG4gIF9lbmRpbmcoY2FudmFzLCB0eXBlLCB4MCwgeTAsIHgxLCB5MSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnY2lyY2xlJzpcbiAgICAgICAgY2FudmFzLmJ1bGIoeDEsIHkxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdhcnJvdyc6XG4gICAgICAgIGNhbnZhcy5hcnJvd2hlYWQoeDAsIHkwLCB4MSwgeTEpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgfVxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvU2hha3lDYW52YXMvTGluZS5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBOzs7Ozs7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7Ozs7OztBQWhDQTsiLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseASCIIArt = exports.Y = exports.X = undefined;\n\nvar _Line = __webpack_require__(3);\n\nvar _Line2 = _interopRequireDefault(_Line);\n\nvar _Text = __webpack_require__(5);\n\nvar _Text2 = _interopRequireDefault(_Text);\n\nvar _Point = __webpack_require__(6);\n\nvar _Point2 = _interopRequireDefault(_Point);\n\nvar _constants = __webpack_require__(7);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } // ES6 version port by CYBAI <cyb.ai.815@gmail.com>\n//\n// Copyright 2012 Google Inc. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the 'License');\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an 'AS IS' BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/* eslint-disable consistent-return, no-duplicate-case */\n\n// Size in pixels for a sigle character cell of ASCII art.\nvar X = function X(x) {\n  return x * _constants.CELL_SIZE + _constants.CELL_SIZE / 2;\n};\nvar Y = function Y(y) {\n  return y * _constants.CELL_SIZE + _constants.CELL_SIZE / 2;\n};\n\n// Parses given ASCII art string into a list of figures.\nfunction parseASCIIArt(string) {\n  var lines = string.split('\\n');\n\n  var height = lines.length;\n  var width = Math.max.apply(Math, _toConsumableArray(lines.map(function (line) {\n    return line.length;\n  })));\n\n  var data = []; // Matrix containing ASCII art.\n\n  // Get a character from the array or null if we are out of bounds.\n  // Useful in places where we inspect character's neighbors and peek\n  // out of bounds for boundary characters.\n  var at = function at(y, x) {\n    return y >= 0 && y < height && x >= 0 && x < width ? data[y][x] : null;\n  };\n\n  // Convert strings into a mutable matrix of characters.\n  for (var y = 0; y < height; y++) {\n    var line = lines[y];\n    data[y] = line.split('');\n    for (var x = line.length; x < width; x++) {\n      data[y][x] = ' ';\n    }\n  }\n\n  // Returns true iff the character can be part of the line.\n  var isPartOfLine = function isPartOfLine(x, y) {\n    var c = at(y, x);\n    return c === '|' || c === '-' || c === '+' || c === '~' || c === '!';\n  };\n\n  // If character represents a color modifier returns CSS color.\n  var toColor = function toColor(x, y) {\n    var c = at(y, x);\n    if (c === '~' || c === '!') {\n      return '#666';\n    }\n  };\n\n  // Returns true iff characters is line ending decoration.\n  var isLineEnding = function isLineEnding(x, y) {\n    var c = at(y, x);\n    return c === '*' || c === '<' || c === '>' || c === '^' || c === 'v';\n  };\n\n  // Finds a character that belongs to unextracted line.\n  var findLineChar = function findLineChar() {\n    for (var _y = 0; _y < height; _y++) {\n      for (var _x = 0; _x < width; _x++) {\n        if (data[_y][_x] === '|' || data[_y][_x] === '-') {\n          return new _Point2.default(_x, _y);\n        }\n      }\n    }\n  };\n\n  // Converts line's character to the direction of line's growth.\n  var dir = {\n    '-': new _Point2.default(1, 0),\n    '|': new _Point2.default(0, 1)\n  };\n\n  // Erases character that belongs to the extracted line.\n  var eraseChar = function eraseChar(x, y, dx, dy) {\n    switch (at(y, x)) {\n      case '|':\n      case '-':\n      case '*':\n      case '>':\n      case '<':\n      case '^':\n      case 'v':\n      case '~':\n      case '!':\n        data[y][x] = ' ';\n        return;\n      case '+':\n        dx = 1 - dx;\n        dy = 1 - dy;\n\n        data[y][x] = ' ';\n        switch (at(y - dy, x - dx)) {\n          case '|':\n          case '!':\n          case '+':\n            data[y][x] = '|';\n            return;\n          case '-':\n          case '~':\n            data[y][x] = '-';\n            return;\n          default:\n        }\n\n        switch (at(y + dy, x + dx)) {\n          case '|':\n          case '!':\n          case '+':\n            data[y][x] = '|';\n            return;\n          case '-':\n          case '~':\n            data[y][x] = '-';\n            return;\n          default:\n        }\n        return;\n      default:\n    }\n  };\n\n  // Erase the given extracted line.\n  var erase = function erase(line) {\n    var dx = +(line.x0 !== line.x1);\n    var dy = +(line.y0 !== line.y1);\n\n    if (dx !== 0 || dy !== 0) {\n      var _x2 = line.x0 + dx;\n      var _y2 = line.y0 + dy;\n      var x_ = line.x1 - dx;\n      var y_ = line.y1 - dy;\n      while (_x2 <= x_ && _y2 <= y_) {\n        eraseChar(_x2, _y2, dx, dy);\n        _x2 += dx;\n        _y2 += dy;\n      }\n      eraseChar(line.x0, line.y0, dx, dy);\n      eraseChar(line.x1, line.y1, dx, dy);\n    } else {\n      eraseChar(line.x0, line.y0, dx, dy);\n    }\n  };\n\n  var figures = []; // List of extracted figures.\n\n  // Extract a single line and erase it from the ascii art matrix.\n  var extractLine = function extractLine() {\n    // debugger; // eslint-disable-line\n    var ch = findLineChar();\n    if (ch == null) return false;\n\n    var d = dir[data[ch.y][ch.x]];\n\n    // Find line's start by advancing in the oposite direction.\n    var x0 = ch.x;\n    var y0 = ch.y;\n    var color = null;\n    while (isPartOfLine(x0 - d.x, y0 - d.y)) {\n      x0 -= d.x;\n      y0 -= d.y;\n      if (color == null) color = toColor(x0, y0);\n    }\n\n    var start = null;\n    if (isLineEnding(x0 - d.x, y0 - d.y)) {\n      // Line has a decorated start. Extract is as well.\n      x0 -= d.x;\n      y0 -= d.y;\n      start = data[y0][x0] === '*' ? 'circle' : 'arrow';\n    }\n\n    // Find line's end by advancing forward in the given direction.\n    var x1 = ch.x;\n    var y1 = ch.y;\n    while (isPartOfLine(x1 + d.x, y1 + d.y)) {\n      x1 += d.x;\n      y1 += d.y;\n      if (color == null) {\n        color = toColor(x1, y1);\n      }\n    }\n\n    var end = null;\n    if (isLineEnding(x1 + d.x, y1 + d.y)) {\n      // Line has a decorated end. Extract it.\n      x1 += d.x;\n      y1 += d.y;\n      end = data[y1][x1] === '*' ? 'circle' : 'arrow';\n    }\n\n    // Create line object and erase line from the ascii art matrix.\n    var line = new _Line2.default(x0, y0, start, x1, y1, end, color == null ? 'black' : color);\n    figures.push(line);\n    erase(line);\n\n    // Adjust line start and end to accomodate for arrow endings.\n    // Those should not intersect with their targets but should touch them\n    // instead. Should be done after erasure to ensure that erase deletes\n    // arrowheads.\n    if (start === 'arrow') {\n      line.x0 -= d.x;\n      line.y0 -= d.y;\n    }\n\n    if (end === 'arrow') {\n      line.x1 += d.x;\n      line.y1 += d.y;\n    }\n\n    return true;\n  };\n\n  // Extract all non space characters that were left after line extraction\n  // as text objects.\n  var extractText = function extractText() {\n    for (var _y3 = 0; _y3 < height; _y3++) {\n      for (var _x3 = 0; _x3 < width; _x3++) {\n        if (data[_y3][_x3] !== ' ') {\n          // Find the end of the text annotation by searching for a space.\n          var start = _x3;\n          var end = _x3;\n          while (end < width && data[_y3][end] !== ' ') {\n            end++;\n          }var text = data[_y3].slice(start, end).join('');\n          // Check if it can be concatenated with a previously found text annotation.\n          var prev = figures[figures.length - 1];\n          if (prev instanceof _Text2.default && prev.x0 + prev.text.length + 1 === start) {\n            // If they touch concatentate them.\n            prev.text = prev.text + ' ' + text;\n          } else {\n            // Look for a grey color modifiers.\n            var color = 'black';\n            if (text[0] === '\\\\' && text[text.length - 1] === '\\\\') {\n              text = text.substring(1, text.length - 1);\n              color = '#666';\n            }\n            figures.push(new _Text2.default(_x3, _y3, text, color));\n          }\n          _x3 = end;\n        }\n      }\n    }\n  };\n\n  while (extractLine()) {} // Extract all lines.\n  extractText(); // Extract all text.\n\n  return figures;\n}\n\nexports.X = X;\nexports.Y = Y;\nexports.parseASCIIArt = parseASCIIArt;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvU2hha3lDYW52YXMvdXRpbHMuanM/NTg4MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBFUzYgdmVyc2lvbiBwb3J0IGJ5IENZQkFJIDxjeWIuYWkuODE1QGdtYWlsLmNvbT5cbi8vXG4vLyBDb3B5cmlnaHQgMjAxMiBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5cbi8qIGVzbGludC1kaXNhYmxlIGNvbnNpc3RlbnQtcmV0dXJuLCBuby1kdXBsaWNhdGUtY2FzZSAqL1xuXG5pbXBvcnQgTGluZSBmcm9tICcuL0xpbmUnO1xuaW1wb3J0IFRleHQgZnJvbSAnLi9UZXh0JztcbmltcG9ydCBQb2ludCBmcm9tICcuL1BvaW50JztcbmltcG9ydCB7IENFTExfU0laRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuLy8gU2l6ZSBpbiBwaXhlbHMgZm9yIGEgc2lnbGUgY2hhcmFjdGVyIGNlbGwgb2YgQVNDSUkgYXJ0LlxuY29uc3QgWCA9ICh4KSA9PiAoeCAqIENFTExfU0laRSArIChDRUxMX1NJWkUgLyAyKSk7XG5jb25zdCBZID0gKHkpID0+ICh5ICogQ0VMTF9TSVpFICsgKENFTExfU0laRSAvIDIpKTtcblxuLy8gUGFyc2VzIGdpdmVuIEFTQ0lJIGFydCBzdHJpbmcgaW50byBhIGxpc3Qgb2YgZmlndXJlcy5cbmZ1bmN0aW9uIHBhcnNlQVNDSUlBcnQoc3RyaW5nKSB7XG4gIGNvbnN0IGxpbmVzID0gc3RyaW5nLnNwbGl0KCdcXG4nKTtcblxuICBjb25zdCBoZWlnaHQgPSBsaW5lcy5sZW5ndGg7XG4gIGNvbnN0IHdpZHRoID0gTWF0aC5tYXgoLi4ubGluZXMubWFwKChsaW5lKSA9PiBsaW5lLmxlbmd0aCkpO1xuXG4gIGNvbnN0IGRhdGEgPSBbXTsgLy8gTWF0cml4IGNvbnRhaW5pbmcgQVNDSUkgYXJ0LlxuXG4gIC8vIEdldCBhIGNoYXJhY3RlciBmcm9tIHRoZSBhcnJheSBvciBudWxsIGlmIHdlIGFyZSBvdXQgb2YgYm91bmRzLlxuICAvLyBVc2VmdWwgaW4gcGxhY2VzIHdoZXJlIHdlIGluc3BlY3QgY2hhcmFjdGVyJ3MgbmVpZ2hib3JzIGFuZCBwZWVrXG4gIC8vIG91dCBvZiBib3VuZHMgZm9yIGJvdW5kYXJ5IGNoYXJhY3RlcnMuXG4gIGNvbnN0IGF0ID0gKHksIHgpID0+IChcbiAgICAoeSA+PSAwICYmIHkgPCBoZWlnaHQgJiYgeCA+PSAwICYmIHggPCB3aWR0aCkgP1xuICAgICAgZGF0YVt5XVt4XSA6XG4gICAgICBudWxsXG4gICk7XG5cbiAgLy8gQ29udmVydCBzdHJpbmdzIGludG8gYSBtdXRhYmxlIG1hdHJpeCBvZiBjaGFyYWN0ZXJzLlxuICBmb3IgKGxldCB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XG4gICAgY29uc3QgbGluZSA9IGxpbmVzW3ldO1xuICAgIGRhdGFbeV0gPSBsaW5lLnNwbGl0KCcnKTtcbiAgICBmb3IgKGxldCB4ID0gbGluZS5sZW5ndGg7IHggPCB3aWR0aDsgeCsrKSB7XG4gICAgICBkYXRhW3ldW3hdID0gJyAnO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJldHVybnMgdHJ1ZSBpZmYgdGhlIGNoYXJhY3RlciBjYW4gYmUgcGFydCBvZiB0aGUgbGluZS5cbiAgY29uc3QgaXNQYXJ0T2ZMaW5lID0gKHgsIHkpID0+IHtcbiAgICBjb25zdCBjID0gYXQoeSwgeCk7XG4gICAgcmV0dXJuIGMgPT09ICd8JyB8fFxuICAgICAgICAgICBjID09PSAnLScgfHxcbiAgICAgICAgICAgYyA9PT0gJysnIHx8XG4gICAgICAgICAgIGMgPT09ICd+JyB8fFxuICAgICAgICAgICBjID09PSAnISc7XG4gIH07XG5cbiAgLy8gSWYgY2hhcmFjdGVyIHJlcHJlc2VudHMgYSBjb2xvciBtb2RpZmllciByZXR1cm5zIENTUyBjb2xvci5cbiAgY29uc3QgdG9Db2xvciA9ICh4LCB5KSA9PiB7XG4gICAgY29uc3QgYyA9IGF0KHksIHgpO1xuICAgIGlmIChjID09PSAnficgfHwgYyA9PT0gJyEnKSB7XG4gICAgICByZXR1cm4gJyM2NjYnO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZXR1cm5zIHRydWUgaWZmIGNoYXJhY3RlcnMgaXMgbGluZSBlbmRpbmcgZGVjb3JhdGlvbi5cbiAgY29uc3QgaXNMaW5lRW5kaW5nID0gKHgsIHkpID0+IHtcbiAgICBjb25zdCBjID0gYXQoeSwgeCk7XG4gICAgcmV0dXJuIGMgPT09ICcqJyB8fFxuICAgICAgICAgICBjID09PSAnPCcgfHxcbiAgICAgICAgICAgYyA9PT0gJz4nIHx8XG4gICAgICAgICAgIGMgPT09ICdeJyB8fFxuICAgICAgICAgICBjID09PSAndic7XG4gIH07XG5cbiAgLy8gRmluZHMgYSBjaGFyYWN0ZXIgdGhhdCBiZWxvbmdzIHRvIHVuZXh0cmFjdGVkIGxpbmUuXG4gIGNvbnN0IGZpbmRMaW5lQ2hhciA9ICgpID0+IHtcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XG4gICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHdpZHRoOyB4KyspIHtcbiAgICAgICAgaWYgKGRhdGFbeV1beF0gPT09ICd8JyB8fCBkYXRhW3ldW3hdID09PSAnLScpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KHgsIHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIENvbnZlcnRzIGxpbmUncyBjaGFyYWN0ZXIgdG8gdGhlIGRpcmVjdGlvbiBvZiBsaW5lJ3MgZ3Jvd3RoLlxuICBjb25zdCBkaXIgPSB7XG4gICAgJy0nOiBuZXcgUG9pbnQoMSwgMCksXG4gICAgJ3wnOiBuZXcgUG9pbnQoMCwgMSksXG4gIH07XG5cbiAgLy8gRXJhc2VzIGNoYXJhY3RlciB0aGF0IGJlbG9uZ3MgdG8gdGhlIGV4dHJhY3RlZCBsaW5lLlxuICBjb25zdCBlcmFzZUNoYXIgPSAoeCwgeSwgZHgsIGR5KSA9PiB7XG4gICAgc3dpdGNoIChhdCh5LCB4KSkge1xuICAgICAgY2FzZSAnfCc6XG4gICAgICBjYXNlICctJzpcbiAgICAgIGNhc2UgJyonOlxuICAgICAgY2FzZSAnPic6XG4gICAgICBjYXNlICc8JzpcbiAgICAgIGNhc2UgJ14nOlxuICAgICAgY2FzZSAndic6XG4gICAgICBjYXNlICd+JzpcbiAgICAgIGNhc2UgJyEnOlxuICAgICAgICBkYXRhW3ldW3hdID0gJyAnO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlICcrJzpcbiAgICAgICAgZHggPSAxIC0gZHg7XG4gICAgICAgIGR5ID0gMSAtIGR5O1xuXG4gICAgICAgIGRhdGFbeV1beF0gPSAnICc7XG4gICAgICAgIHN3aXRjaCAoYXQoeSAtIGR5LCB4IC0gZHgpKSB7XG4gICAgICAgICAgY2FzZSAnfCc6XG4gICAgICAgICAgY2FzZSAnISc6XG4gICAgICAgICAgY2FzZSAnKyc6XG4gICAgICAgICAgICBkYXRhW3ldW3hdID0gJ3wnO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNhc2UgJy0nOlxuICAgICAgICAgIGNhc2UgJ34nOlxuICAgICAgICAgICAgZGF0YVt5XVt4XSA9ICctJztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChhdCh5ICsgZHksIHggKyBkeCkpIHtcbiAgICAgICAgICBjYXNlICd8JzpcbiAgICAgICAgICBjYXNlICchJzpcbiAgICAgICAgICBjYXNlICcrJzpcbiAgICAgICAgICAgIGRhdGFbeV1beF0gPSAnfCc7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgY2FzZSAnfic6XG4gICAgICAgICAgICBkYXRhW3ldW3hdID0gJy0nO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgZGVmYXVsdDpcbiAgICB9XG4gIH07XG5cbiAgLy8gRXJhc2UgdGhlIGdpdmVuIGV4dHJhY3RlZCBsaW5lLlxuICBjb25zdCBlcmFzZSA9IChsaW5lKSA9PiB7XG4gICAgY29uc3QgZHggPSArKGxpbmUueDAgIT09IGxpbmUueDEpO1xuICAgIGNvbnN0IGR5ID0gKyhsaW5lLnkwICE9PSBsaW5lLnkxKTtcblxuICAgIGlmIChkeCAhPT0gMCB8fCBkeSAhPT0gMCkge1xuICAgICAgbGV0IHggPSBsaW5lLngwICsgZHg7XG4gICAgICBsZXQgeSA9IGxpbmUueTAgKyBkeTtcbiAgICAgIGNvbnN0IHhfID0gbGluZS54MSAtIGR4O1xuICAgICAgY29uc3QgeV8gPSBsaW5lLnkxIC0gZHk7XG4gICAgICB3aGlsZSAoeCA8PSB4XyAmJiB5IDw9IHlfKSB7XG4gICAgICAgIGVyYXNlQ2hhcih4LCB5LCBkeCwgZHkpO1xuICAgICAgICB4ICs9IGR4O1xuICAgICAgICB5ICs9IGR5O1xuICAgICAgfVxuICAgICAgZXJhc2VDaGFyKGxpbmUueDAsIGxpbmUueTAsIGR4LCBkeSk7XG4gICAgICBlcmFzZUNoYXIobGluZS54MSwgbGluZS55MSwgZHgsIGR5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXJhc2VDaGFyKGxpbmUueDAsIGxpbmUueTAsIGR4LCBkeSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGZpZ3VyZXMgPSBbXTsgIC8vIExpc3Qgb2YgZXh0cmFjdGVkIGZpZ3VyZXMuXG5cbiAgLy8gRXh0cmFjdCBhIHNpbmdsZSBsaW5lIGFuZCBlcmFzZSBpdCBmcm9tIHRoZSBhc2NpaSBhcnQgbWF0cml4LlxuICBjb25zdCBleHRyYWN0TGluZSA9ICgpID0+IHtcbiAgICAvLyBkZWJ1Z2dlcjsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGNvbnN0IGNoID0gZmluZExpbmVDaGFyKCk7XG4gICAgaWYgKGNoID09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICAgIGNvbnN0IGQgPSBkaXJbZGF0YVtjaC55XVtjaC54XV07XG5cbiAgICAvLyBGaW5kIGxpbmUncyBzdGFydCBieSBhZHZhbmNpbmcgaW4gdGhlIG9wb3NpdGUgZGlyZWN0aW9uLlxuICAgIGxldCB4MCA9IGNoLng7XG4gICAgbGV0IHkwID0gY2gueTtcbiAgICBsZXQgY29sb3IgPSBudWxsO1xuICAgIHdoaWxlIChpc1BhcnRPZkxpbmUoeDAgLSBkLngsIHkwIC0gZC55KSkge1xuICAgICAgeDAgLT0gZC54O1xuICAgICAgeTAgLT0gZC55O1xuICAgICAgaWYgKGNvbG9yID09IG51bGwpIGNvbG9yID0gdG9Db2xvcih4MCwgeTApO1xuICAgIH1cblxuICAgIGxldCBzdGFydCA9IG51bGw7XG4gICAgaWYgKGlzTGluZUVuZGluZyh4MCAtIGQueCwgeTAgLSBkLnkpKSB7XG4gICAgICAvLyBMaW5lIGhhcyBhIGRlY29yYXRlZCBzdGFydC4gRXh0cmFjdCBpcyBhcyB3ZWxsLlxuICAgICAgeDAgLT0gZC54O1xuICAgICAgeTAgLT0gZC55O1xuICAgICAgc3RhcnQgPSAoZGF0YVt5MF1beDBdID09PSAnKicpID8gJ2NpcmNsZScgOiAnYXJyb3cnO1xuICAgIH1cblxuICAgIC8vIEZpbmQgbGluZSdzIGVuZCBieSBhZHZhbmNpbmcgZm9yd2FyZCBpbiB0aGUgZ2l2ZW4gZGlyZWN0aW9uLlxuICAgIGxldCB4MSA9IGNoLng7XG4gICAgbGV0IHkxID0gY2gueTtcbiAgICB3aGlsZSAoaXNQYXJ0T2ZMaW5lKHgxICsgZC54LCB5MSArIGQueSkpIHtcbiAgICAgIHgxICs9IGQueDtcbiAgICAgIHkxICs9IGQueTtcbiAgICAgIGlmIChjb2xvciA9PSBudWxsKSB7XG4gICAgICAgIGNvbG9yID0gdG9Db2xvcih4MSwgeTEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBlbmQgPSBudWxsO1xuICAgIGlmIChpc0xpbmVFbmRpbmcoeDEgKyBkLngsIHkxICsgZC55KSkge1xuICAgICAgLy8gTGluZSBoYXMgYSBkZWNvcmF0ZWQgZW5kLiBFeHRyYWN0IGl0LlxuICAgICAgeDEgKz0gZC54O1xuICAgICAgeTEgKz0gZC55O1xuICAgICAgZW5kID0gKGRhdGFbeTFdW3gxXSA9PT0gJyonKSA/ICdjaXJjbGUnIDogJ2Fycm93JztcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgbGluZSBvYmplY3QgYW5kIGVyYXNlIGxpbmUgZnJvbSB0aGUgYXNjaWkgYXJ0IG1hdHJpeC5cbiAgICBjb25zdCBsaW5lID0gbmV3IExpbmUoeDAsIHkwLCBzdGFydCwgeDEsIHkxLCBlbmQsIGNvbG9yID09IG51bGwgPyAnYmxhY2snIDogY29sb3IpO1xuICAgIGZpZ3VyZXMucHVzaChsaW5lKTtcbiAgICBlcmFzZShsaW5lKTtcblxuICAgIC8vIEFkanVzdCBsaW5lIHN0YXJ0IGFuZCBlbmQgdG8gYWNjb21vZGF0ZSBmb3IgYXJyb3cgZW5kaW5ncy5cbiAgICAvLyBUaG9zZSBzaG91bGQgbm90IGludGVyc2VjdCB3aXRoIHRoZWlyIHRhcmdldHMgYnV0IHNob3VsZCB0b3VjaCB0aGVtXG4gICAgLy8gaW5zdGVhZC4gU2hvdWxkIGJlIGRvbmUgYWZ0ZXIgZXJhc3VyZSB0byBlbnN1cmUgdGhhdCBlcmFzZSBkZWxldGVzXG4gICAgLy8gYXJyb3doZWFkcy5cbiAgICBpZiAoc3RhcnQgPT09ICdhcnJvdycpIHtcbiAgICAgIGxpbmUueDAgLT0gZC54O1xuICAgICAgbGluZS55MCAtPSBkLnk7XG4gICAgfVxuXG4gICAgaWYgKGVuZCA9PT0gJ2Fycm93Jykge1xuICAgICAgbGluZS54MSArPSBkLng7XG4gICAgICBsaW5lLnkxICs9IGQueTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuXG4gIC8vIEV4dHJhY3QgYWxsIG5vbiBzcGFjZSBjaGFyYWN0ZXJzIHRoYXQgd2VyZSBsZWZ0IGFmdGVyIGxpbmUgZXh0cmFjdGlvblxuICAvLyBhcyB0ZXh0IG9iamVjdHMuXG4gIGNvbnN0IGV4dHJhY3RUZXh0ID0gKCkgPT4ge1xuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICBpZiAoZGF0YVt5XVt4XSAhPT0gJyAnKSB7XG4gICAgICAgICAgLy8gRmluZCB0aGUgZW5kIG9mIHRoZSB0ZXh0IGFubm90YXRpb24gYnkgc2VhcmNoaW5nIGZvciBhIHNwYWNlLlxuICAgICAgICAgIGNvbnN0IHN0YXJ0ID0geDtcbiAgICAgICAgICBsZXQgZW5kID0geDtcbiAgICAgICAgICB3aGlsZSAoKGVuZCA8IHdpZHRoKSAmJiAoZGF0YVt5XVtlbmRdICE9PSAnICcpKSBlbmQrKztcblxuICAgICAgICAgIGxldCB0ZXh0ID0gZGF0YVt5XS5zbGljZShzdGFydCwgZW5kKS5qb2luKCcnKTtcbiAgICAgICAgICAvLyBDaGVjayBpZiBpdCBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGggYSBwcmV2aW91c2x5IGZvdW5kIHRleHQgYW5ub3RhdGlvbi5cbiAgICAgICAgICBjb25zdCBwcmV2ID0gZmlndXJlc1tmaWd1cmVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGlmICgocHJldiBpbnN0YW5jZW9mIFRleHQpICYmIChwcmV2LngwICsgcHJldi50ZXh0Lmxlbmd0aCArIDEpID09PSBzdGFydCkge1xuICAgICAgICAgICAgLy8gSWYgdGhleSB0b3VjaCBjb25jYXRlbnRhdGUgdGhlbS5cbiAgICAgICAgICAgIHByZXYudGV4dCA9IGAke3ByZXYudGV4dH0gJHt0ZXh0fWA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIExvb2sgZm9yIGEgZ3JleSBjb2xvciBtb2RpZmllcnMuXG4gICAgICAgICAgICBsZXQgY29sb3IgPSAnYmxhY2snO1xuICAgICAgICAgICAgaWYgKHRleHRbMF0gPT09ICdcXFxcJyAmJiB0ZXh0W3RleHQubGVuZ3RoIC0gMV0gPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMSwgdGV4dC5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgY29sb3IgPSAnIzY2Nic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWd1cmVzLnB1c2gobmV3IFRleHQoeCwgeSwgdGV4dCwgY29sb3IpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgeCA9IGVuZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB3aGlsZSAoZXh0cmFjdExpbmUoKSk7ICAvLyBFeHRyYWN0IGFsbCBsaW5lcy5cbiAgZXh0cmFjdFRleHQoKTsgIC8vIEV4dHJhY3QgYWxsIHRleHQuXG5cbiAgcmV0dXJuIGZpZ3VyZXM7XG59XG5cbmV4cG9ydCB7XG4gIFgsIFksXG4gIHBhcnNlQVNDSUlBcnQsXG59O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL1NoYWt5Q2FudmFzL3V0aWxzLmpzXG4gKiovIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBbUJBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQUE7QUFBQTtBQUNBOztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFZQTtBQUNBO0FBM0NBO0FBNkNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTs7QUFJQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(4);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Text annotation at (x0, y0) with the given color.\n\nvar Text = function () {\n  function Text(x0, y0, text, color) {\n    _classCallCheck(this, Text);\n\n    this.x0 = x0;\n    this.y0 = y0;\n    this.text = text;\n    this.color = color;\n  }\n\n  _createClass(Text, [{\n    key: 'draw',\n    value: function draw(ctx) {\n      ctx.fillStyle = this.color;\n      ctx.fillText(this.text, (0, _utils.X)(this.x0), (0, _utils.Y)(this.y0));\n    }\n  }]);\n\n  return Text;\n}();\n\nexports.default = Text;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvU2hha3lDYW52YXMvVGV4dC5qcz8zMDVjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFgsIFkgfSBmcm9tICcuL3V0aWxzJztcblxuLy8gVGV4dCBhbm5vdGF0aW9uIGF0ICh4MCwgeTApIHdpdGggdGhlIGdpdmVuIGNvbG9yLlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dCB7XG4gIGNvbnN0cnVjdG9yKHgwLCB5MCwgdGV4dCwgY29sb3IpIHtcbiAgICB0aGlzLngwID0geDA7XG4gICAgdGhpcy55MCA9IHkwO1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICB9XG5cbiAgZHJhdyhjdHgpIHtcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcbiAgICBjdHguZmlsbFRleHQodGhpcy50ZXh0LCBYKHRoaXMueDApLCBZKHRoaXMueTApKTtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL1NoYWt5Q2FudmFzL1RleHQuanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTs7Ozs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQVhBOyIsInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval('"use strict";\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n// Auxiliary Point class used during parsing.\n// Unfortunately Dart does not support structural classes or\n// local classes so I had to polute library namespace with it.\n\nvar Point = function Point(x, y) {\n  _classCallCheck(this, Point);\n\n  this.x = x;\n  this.y = y;\n};\n\nexports.default = Point;\nmodule.exports = exports["default"];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvU2hha3lDYW52YXMvUG9pbnQuanM/OTJhOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBdXhpbGlhcnkgUG9pbnQgY2xhc3MgdXNlZCBkdXJpbmcgcGFyc2luZy5cbi8vIFVuZm9ydHVuYXRlbHkgRGFydCBkb2VzIG5vdCBzdXBwb3J0IHN0cnVjdHVyYWwgY2xhc3NlcyBvclxuLy8gbG9jYWwgY2xhc3NlcyBzbyBJIGhhZCB0byBwb2x1dGUgbGlicmFyeSBuYW1lc3BhY2Ugd2l0aCBpdC5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvaW50IHtcbiAgY29uc3RydWN0b3IoeCwgeSkge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL1NoYWt5Q2FudmFzL1BvaW50LmpzXG4gKiovIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUxBOyIsInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports){eval('"use strict";\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nvar CELL_SIZE = exports.CELL_SIZE = 15;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvU2hha3lDYW52YXMvY29uc3RhbnRzLmpzP2RmOTciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IENFTExfU0laRSA9IDE1O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL1NoYWt5Q2FudmFzL2NvbnN0YW50cy5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar font = \"20pt 'Gloria Hallelujah'\";\n\n// ShakyCanvas provides a way of drawing shaky lines on a normal\n// HTML5 canvas element.\n\nvar ShakyCanvas = function () {\n  function ShakyCanvas(canvas) {\n    _classCallCheck(this, ShakyCanvas);\n\n    this.ctx = canvas.getContext('2d');\n    this.ctx.lineWidth = 3;\n    this.ctx.font = font;\n    this.ctx.textBaseline = 'middle';\n  }\n\n  _createClass(ShakyCanvas, [{\n    key: 'moveTo',\n    value: function moveTo(x01, y01) {\n      this.x0 = x01;\n      this.y0 = y01;\n    }\n  }, {\n    key: 'lineTo',\n    value: function lineTo(x1, y1) {\n      this.shakyLine(this.x0, this.y0, x1, y1);\n      this.moveTo(x1, y1);\n    }\n\n    // Draw a shaky line between (x0, y0) and (x1, y1)\n\n  }, {\n    key: 'shakyLine',\n    value: function shakyLine(x0, y0, x1, y1) {\n      // Let $v = (d_x, d_y)$ be a vector between points $P_0 = (x_0, y_0)$\n      // and $P_1 = (x_1, y_1)$\n      var dx = x1 - x0;\n      var dy = y1 - y0;\n\n      // Let $l$ be the length of $v$\n      var l = Math.sqrt(dx * dx + dy * dy);\n\n      // Now we need to pick two random points that are placed\n      // on different sides of the line that passes through\n      // $P_1$ and $P_2$ and not very far from it if length of\n      // $P_1 P_2$ is small.\n      var K = Math.sqrt(l) / 1.5;\n      var k1 = Math.random();\n      var k2 = Math.random();\n      var l3 = Math.random() * K;\n      var l4 = Math.random() * K;\n\n      // Point $P_3$: pick a random point on the line between $P_0$ and $P_1$,\n      // then shift it by vector $\\frac{l_1}{l} (d_y, -d_x)$ which is a line's normal.\n      var x3 = x0 + dx * k1 + dy / l * l3;\n      var y3 = y0 + dy * k1 - dx / l * l3;\n\n      // Point $P_3$: pick a random point on the line between $P_0$ and $P_1$,\n      // then shift it by vector $\\frac{l_2}{l} (-d_y, d_x)$ which also is a line's normal\n      // but points into opposite direction from the one we used for $P_3$.\n      var x4 = x0 + dx * k2 - dy / l * l4;\n      var y4 = y0 + dy * k2 + dx / l * l4;\n\n      // Draw a bezier curve through points $P_0$, $P_3$, $P_4$, $P_1$.\n      // Selection of $P_3$ and $P_4$ makes line 'jerk' a little\n      // between them but otherwise it will be mostly straight thus\n      // creating illusion of being hand drawn.\n      this.ctx.moveTo(x0, y0);\n      this.ctx.bezierCurveTo(x3, y3, x4, y4, x1, y1);\n    }\n\n    // Draw a shaky bulb (used for line endings).\n\n  }, {\n    key: 'bulb',\n    value: function bulb(x0, y0) {\n      var fuzziness = function fuzziness() {\n        return Math.random() * 2 - 1;\n      };\n      for (var i = 0; i <= 2; i++) {\n        this.beginPath();\n        this.ctx.arc(x0 + fuzziness(), y0 + fuzziness(), 5, 0, Math.PI * 2, true);\n        this.ctx.closePath();\n        this.ctx.fill();\n      }\n    }\n\n    // Draw a shaky arrowhead at the (x1, y1) as an ending\n    // for the line from (x0, y0) to (x1, y1)\n\n  }, {\n    key: 'arrowhead',\n    value: function arrowhead(x0, y0, x1, y1) {\n      var dx = x0 - x1;\n      var dy = y0 - y1;\n\n      var alpha = Math.atan(dy / dx);\n      if (dy === 0) {\n        alpha = dx < 0 ? -Math.PI : 0;\n      }\n\n      var alpha3 = alpha + 0.5;\n      var alpha4 = alpha - 0.5;\n\n      var l3 = 20;\n      var x3 = x1 + l3 * Math.cos(alpha3);\n      var y3 = y1 + l3 * Math.sin(alpha3);\n\n      this.ctx.beginPath();\n      this.moveTo(x3, y3);\n      this.lineTo(x1, y1);\n      this.ctx.stroke();\n\n      var l4 = 20;\n      var x4 = x1 + l4 * Math.cos(alpha4);\n      var y4 = y1 + l4 * Math.sin(alpha4);\n\n      this.ctx.beginPath();\n      this.moveTo(x4, y4);\n      this.lineTo(x1, y1);\n      this.stroke();\n    }\n\n    // Forward some methods to rendering context.\n    // Ideally we would just use\n    //\n    //   noSuchMethod(mirror) => mirror.invokeOn(mirror);\n    //\n\n  }, {\n    key: 'beginPath',\n    value: function beginPath() {\n      this.ctx.beginPath();\n    }\n  }, {\n    key: 'stroke',\n    value: function stroke() {\n      this.ctx.stroke();\n    }\n  }, {\n    key: 'fillText',\n    value: function fillText(text, x0, y0) {\n      this.ctx.fillText(text, x0, y0);\n    }\n  }, {\n    key: 'strokeStyle',\n    set: function set(val) {\n      this.ctx.strokeStyle = val;\n    }\n  }, {\n    key: 'fillStyle',\n    set: function set(val) {\n      this.ctx.fillStyle = val;\n    }\n  }]);\n\n  return ShakyCanvas;\n}();\n\nexports.default = ShakyCanvas;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvU2hha3lDYW52YXMvU2hha3lDYW52YXMuanM/ZjliNiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBmb250ID0gXCIyMHB0ICdHbG9yaWEgSGFsbGVsdWphaCdcIjtcblxuLy8gU2hha3lDYW52YXMgcHJvdmlkZXMgYSB3YXkgb2YgZHJhd2luZyBzaGFreSBsaW5lcyBvbiBhIG5vcm1hbFxuLy8gSFRNTDUgY2FudmFzIGVsZW1lbnQuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaGFreUNhbnZhcyB7XG4gIGNvbnN0cnVjdG9yKGNhbnZhcykge1xuICAgIHRoaXMuY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgdGhpcy5jdHgubGluZVdpZHRoID0gMztcbiAgICB0aGlzLmN0eC5mb250ID0gZm9udDtcbiAgICB0aGlzLmN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgfVxuXG4gIG1vdmVUbyh4MDEsIHkwMSkge1xuICAgIHRoaXMueDAgPSB4MDE7XG4gICAgdGhpcy55MCA9IHkwMTtcbiAgfVxuXG4gIGxpbmVUbyh4MSwgeTEpIHtcbiAgICB0aGlzLnNoYWt5TGluZSh0aGlzLngwLCB0aGlzLnkwLCB4MSwgeTEpO1xuICAgIHRoaXMubW92ZVRvKHgxLCB5MSk7XG4gIH1cblxuICAvLyBEcmF3IGEgc2hha3kgbGluZSBiZXR3ZWVuICh4MCwgeTApIGFuZCAoeDEsIHkxKVxuICBzaGFreUxpbmUoeDAsIHkwLCB4MSwgeTEpIHtcbiAgICAvLyBMZXQgJHYgPSAoZF94LCBkX3kpJCBiZSBhIHZlY3RvciBiZXR3ZWVuIHBvaW50cyAkUF8wID0gKHhfMCwgeV8wKSRcbiAgICAvLyBhbmQgJFBfMSA9ICh4XzEsIHlfMSkkXG4gICAgY29uc3QgZHggPSB4MSAtIHgwO1xuICAgIGNvbnN0IGR5ID0geTEgLSB5MDtcblxuICAgIC8vIExldCAkbCQgYmUgdGhlIGxlbmd0aCBvZiAkdiRcbiAgICBjb25zdCBsID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblxuICAgIC8vIE5vdyB3ZSBuZWVkIHRvIHBpY2sgdHdvIHJhbmRvbSBwb2ludHMgdGhhdCBhcmUgcGxhY2VkXG4gICAgLy8gb24gZGlmZmVyZW50IHNpZGVzIG9mIHRoZSBsaW5lIHRoYXQgcGFzc2VzIHRocm91Z2hcbiAgICAvLyAkUF8xJCBhbmQgJFBfMiQgYW5kIG5vdCB2ZXJ5IGZhciBmcm9tIGl0IGlmIGxlbmd0aCBvZlxuICAgIC8vICRQXzEgUF8yJCBpcyBzbWFsbC5cbiAgICBjb25zdCBLID0gTWF0aC5zcXJ0KGwpIC8gMS41O1xuICAgIGNvbnN0IGsxID0gTWF0aC5yYW5kb20oKTtcbiAgICBjb25zdCBrMiA9IE1hdGgucmFuZG9tKCk7XG4gICAgY29uc3QgbDMgPSBNYXRoLnJhbmRvbSgpICogSztcbiAgICBjb25zdCBsNCA9IE1hdGgucmFuZG9tKCkgKiBLO1xuXG4gICAgLy8gUG9pbnQgJFBfMyQ6IHBpY2sgYSByYW5kb20gcG9pbnQgb24gdGhlIGxpbmUgYmV0d2VlbiAkUF8wJCBhbmQgJFBfMSQsXG4gICAgLy8gdGhlbiBzaGlmdCBpdCBieSB2ZWN0b3IgJFxcZnJhY3tsXzF9e2x9IChkX3ksIC1kX3gpJCB3aGljaCBpcyBhIGxpbmUncyBub3JtYWwuXG4gICAgY29uc3QgeDMgPSB4MCArIGR4ICogazEgKyBkeSAvIGwgKiBsMztcbiAgICBjb25zdCB5MyA9IHkwICsgZHkgKiBrMSAtIGR4IC8gbCAqIGwzO1xuXG4gICAgLy8gUG9pbnQgJFBfMyQ6IHBpY2sgYSByYW5kb20gcG9pbnQgb24gdGhlIGxpbmUgYmV0d2VlbiAkUF8wJCBhbmQgJFBfMSQsXG4gICAgLy8gdGhlbiBzaGlmdCBpdCBieSB2ZWN0b3IgJFxcZnJhY3tsXzJ9e2x9ICgtZF95LCBkX3gpJCB3aGljaCBhbHNvIGlzIGEgbGluZSdzIG5vcm1hbFxuICAgIC8vIGJ1dCBwb2ludHMgaW50byBvcHBvc2l0ZSBkaXJlY3Rpb24gZnJvbSB0aGUgb25lIHdlIHVzZWQgZm9yICRQXzMkLlxuICAgIGNvbnN0IHg0ID0geDAgKyBkeCAqIGsyIC0gZHkgLyBsICogbDQ7XG4gICAgY29uc3QgeTQgPSB5MCArIGR5ICogazIgKyBkeCAvIGwgKiBsNDtcblxuICAgIC8vIERyYXcgYSBiZXppZXIgY3VydmUgdGhyb3VnaCBwb2ludHMgJFBfMCQsICRQXzMkLCAkUF80JCwgJFBfMSQuXG4gICAgLy8gU2VsZWN0aW9uIG9mICRQXzMkIGFuZCAkUF80JCBtYWtlcyBsaW5lICdqZXJrJyBhIGxpdHRsZVxuICAgIC8vIGJldHdlZW4gdGhlbSBidXQgb3RoZXJ3aXNlIGl0IHdpbGwgYmUgbW9zdGx5IHN0cmFpZ2h0IHRodXNcbiAgICAvLyBjcmVhdGluZyBpbGx1c2lvbiBvZiBiZWluZyBoYW5kIGRyYXduLlxuICAgIHRoaXMuY3R4Lm1vdmVUbyh4MCwgeTApO1xuICAgIHRoaXMuY3R4LmJlemllckN1cnZlVG8oeDMsIHkzLCB4NCwgeTQsIHgxLCB5MSk7XG4gIH1cblxuICAvLyBEcmF3IGEgc2hha3kgYnVsYiAodXNlZCBmb3IgbGluZSBlbmRpbmdzKS5cbiAgYnVsYih4MCwgeTApIHtcbiAgICBjb25zdCBmdXp6aW5lc3MgPSAoKSA9PiBNYXRoLnJhbmRvbSgpICogMiAtIDE7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gMjsgaSsrKSB7XG4gICAgICB0aGlzLmJlZ2luUGF0aCgpO1xuICAgICAgdGhpcy5jdHguYXJjKHgwICsgZnV6emluZXNzKCksIHkwICsgZnV6emluZXNzKCksIDUsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgdGhpcy5jdHguZmlsbCgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIERyYXcgYSBzaGFreSBhcnJvd2hlYWQgYXQgdGhlICh4MSwgeTEpIGFzIGFuIGVuZGluZ1xuICAvLyBmb3IgdGhlIGxpbmUgZnJvbSAoeDAsIHkwKSB0byAoeDEsIHkxKVxuICBhcnJvd2hlYWQoeDAsIHkwLCB4MSwgeTEpIHtcbiAgICBjb25zdCBkeCA9IHgwIC0geDE7XG4gICAgY29uc3QgZHkgPSB5MCAtIHkxO1xuXG4gICAgbGV0IGFscGhhID0gTWF0aC5hdGFuKGR5IC8gZHgpO1xuICAgIGlmIChkeSA9PT0gMCkge1xuICAgICAgYWxwaGEgPSBkeCA8IDAgPyAtTWF0aC5QSSA6IDA7XG4gICAgfVxuXG4gICAgY29uc3QgYWxwaGEzID0gYWxwaGEgKyAwLjU7XG4gICAgY29uc3QgYWxwaGE0ID0gYWxwaGEgLSAwLjU7XG5cbiAgICBjb25zdCBsMyA9IDIwO1xuICAgIGNvbnN0IHgzID0geDEgKyBsMyAqIE1hdGguY29zKGFscGhhMyk7XG4gICAgY29uc3QgeTMgPSB5MSArIGwzICogTWF0aC5zaW4oYWxwaGEzKTtcblxuICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgIHRoaXMubW92ZVRvKHgzLCB5Myk7XG4gICAgdGhpcy5saW5lVG8oeDEsIHkxKTtcbiAgICB0aGlzLmN0eC5zdHJva2UoKTtcblxuICAgIGNvbnN0IGw0ID0gMjA7XG4gICAgY29uc3QgeDQgPSB4MSArIGw0ICogTWF0aC5jb3MoYWxwaGE0KTtcbiAgICBjb25zdCB5NCA9IHkxICsgbDQgKiBNYXRoLnNpbihhbHBoYTQpO1xuXG4gICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgdGhpcy5tb3ZlVG8oeDQsIHk0KTtcbiAgICB0aGlzLmxpbmVUbyh4MSwgeTEpO1xuICAgIHRoaXMuc3Ryb2tlKCk7XG4gIH1cblxuICAvLyBGb3J3YXJkIHNvbWUgbWV0aG9kcyB0byByZW5kZXJpbmcgY29udGV4dC5cbiAgLy8gSWRlYWxseSB3ZSB3b3VsZCBqdXN0IHVzZVxuICAvL1xuICAvLyAgIG5vU3VjaE1ldGhvZChtaXJyb3IpID0+IG1pcnJvci5pbnZva2VPbihtaXJyb3IpO1xuICAvL1xuICBiZWdpblBhdGgoKSB7XG4gICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gIH1cblxuICBzdHJva2UoKSB7XG4gICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gIH1cblxuICBzZXQgc3Ryb2tlU3R5bGUodmFsKSB7XG4gICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSB2YWw7XG4gIH1cblxuICBzZXQgZmlsbFN0eWxlKHZhbCkge1xuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHZhbDtcbiAgfVxuXG4gIGZpbGxUZXh0KHRleHQsIHgwLCB5MCkge1xuICAgIHRoaXMuY3R4LmZpbGxUZXh0KHRleHQsIHgwLCB5MCk7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9TaGFreUNhbnZhcy9TaGFreUNhbnZhcy5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7Ozs7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQU1BO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFVQTtBQUNBO0FBQ0E7OztBQVZBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7Ozs7QUF4SEE7Iiwic291cmNlUm9vdCI6IiJ9")}]);